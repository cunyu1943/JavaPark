---
isOriginal: true
category:
  - MyBatis Plus
tag: MyBatis Plus
date: 2021-08-08
---

# æ—¥å¿—é…ç½®åŠå¸¸ç”¨ CRUD

## ğŸˆ å·å¤–

æœ€è¿‘ï¼Œå…¬ä¼—å·ä¹‹å¤–ï¼Œå»ºç«‹äº†å¾®ä¿¡äº¤æµç¾¤ï¼Œä¸å®šæœŸä¼šåœ¨ç¾¤é‡Œåˆ†äº«å„ç§èµ„æºï¼ˆå½±è§†ã€IT ç¼–ç¨‹ã€è€ƒè¯•æå‡â€¦â€¦ï¼‰&çŸ¥è¯†ã€‚å¦‚æœæœ‰éœ€è¦ï¼Œå¯ä»¥**æ‰«ç æˆ–è€…åå°æ·»åŠ å°ç¼–å¾®ä¿¡å¤‡æ³¨å…¥ç¾¤**ã€‚è¿›ç¾¤å**ä¼˜å…ˆçœ‹ç¾¤å…¬å‘Š**ï¼Œ**å‘¼å«ç¾¤ä¸­ã€èµ„æºåˆ†äº«å°åŠ©æ‰‹ã€‘**ï¼Œè¿˜èƒ½å…è´¹å¸®æ‰¾èµ„æºå“¦ï½

<center>
<img src="/contact/wxgroup.jpg" width="150"> 
</center>

## å‰è¨€

ä¸Šä¸€ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬è®²äº† Mybatis-Plus çš„å®šä¹‰ä»¥åŠç›¸å…³ç‰¹ç‚¹ï¼Œå¹¶ä»é›¶å¼€å§‹ç¼–å†™äº†ä¸€ä¸ª SpringBoot + Mybatis-Plus çš„å®ä¾‹ã€‚ä»Šå¤©æˆ‘ä»¬å°±æ¥çœ‹çœ‹ï¼Œå¦‚ä½•åˆ©ç”¨ MP æ¥å®ç°å¯¹æ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥ã€‚

## æ—¥å¿—é…ç½®

ä½¿ç”¨ MP æ—¶ï¼Œé»˜è®¤æ˜¯ä¸æ‰“å°ä»»ä½• SQL è¯­å¥çš„ã€‚è€Œä¸ºäº†æ–¹ä¾¿æ—¥å¸¸å¼€å‘å·¥ä½œçš„è°ƒè¯•ï¼Œæˆ‘ä»¬éœ€è¦è”åˆæ§åˆ¶å°å’Œå„ç§æ•°æ®å¯è§†åŒ–å·¥å…·è¿›è¡Œè¯­å¥çš„æ‹¼æ¥æ£€æŸ¥ï¼Œå› æ­¤æˆ‘ä»¬åˆ©ç”¨ MP è‡ªå¸¦çš„æ—¥å¿—åŠŸèƒ½ï¼Œåœ¨æ§åˆ¶å°è¾“å‡ºæˆ‘ä»¬çš„ SQL è¯­å¥ï¼Œä»è€Œæ–¹ä¾¿æˆ‘ä»¬è°ƒè¯•ã€‚

åœ¨é…ç½®æ–‡ä»¶ `application.yml` ï¼ˆIDEA é»˜è®¤ç”Ÿæˆçš„é…ç½®æ–‡ä»¶ä¸º `application.properties`ï¼‰ä¸­ï¼ŒåŠ å…¥ä¸€ä¸‹é…ç½®ï¼Œè¿™æ · MP å°±ä¼šåœ¨æ§åˆ¶å°ä¸­æ‰“å°å®Œæ•´å¸¦å‚æ•°çš„ SQL è¯­å¥ï¼Œæ–¹ä¾¿æˆ‘ä»¬æŸ¥çœ‹ã€‚

```yml
mybatis-plus:
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
```

## Mapper CRUD ä½¿ç”¨æ–¹æ³•

é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ `Mapper` å±‚ CRUD æ¶‰åŠçš„ä¸€äº›æ–¹æ³•ï¼Œ`Mapper` å±‚ä¸»è¦ç»§æ‰¿è‡ª `BaseMapper` æ¥å£ï¼Œé‡Œè¾¹å®ç°äº†å„ç§ç”¨äºæ“ä½œæ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥çš„æ–¹æ³•ï¼Œä»¥ä¸‹æˆ‘ä»¬å°±æ¥çœ‹çœ‹æ—¥å¸¸æˆ‘ä»¬å¸¸ç”¨çš„ä¸€äº›æ–¹æ³•ã€‚

```java
package com.cunyu.employee.mapper;

import com.baomidou.mybatisplus.core.mapper.BaseMapper;
import com.cunyu.employee.entity.Employee;

/**
 * Created with IntelliJ IDEA.
 *
 * @author : cunyu
 * @version : 1.0
 * @project : Employee
 * @package : com.cunyu.employee.mapper
 * @className : EmployeeMapper
 * @createTime : 2021/8/7 17:45
 * @description : å‘˜å·¥ Mapper ç±»
 */
public interface EmployeeMapper extends BaseMapper<Employee> {
}
```



### insert æ“ä½œ

é¦–å…ˆæ˜¯æ’å…¥æ•°æ®ï¼Œ`insert` æ–¹æ³•ä¸­ï¼Œä¼ å…¥æˆ‘ä»¬æ‰€è¦æ’å…¥æ•°æ®åº“çš„å®ä½“å¯¹è±¡ä½œä¸ºå‚æ•°å³å¯ã€‚

-   **æ–¹æ³•å£°æ˜**

```java
/**
     * æ’å…¥ä¸€æ¡è®°å½•
     *
     * @param entity å®ä½“å¯¹è±¡
     */
int insert(T entity);
```

-   **æ’å…¥å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;


@SpringBootTest
class EmployeeApplicationTests {

    @Test
    void contextLoads() {
    }

    @Autowired
    private EmployeeMapper employeeMapper;

    @Test
    void testInsert() {
        Employee employee = new Employee();
        employee.setId(4L);
        employee.setName("èµµå…­");
        employee.setSex("ç”·");
        employee.setEmail("zhaoliu@cunyu1943.com");

        Assert.assertEquals(1, employeeMapper.insert(employee));
        System.out.println("æ’å…¥æˆåŠŸ");
    }

}

```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/eafc4ae5b2e4bd3bc2695e14daca8cb6.webp)

-   **æ•°æ®æ’å…¥åçš„æ•°æ®åº“**

![](assets/20210808-log-crud/2bec29287ff01a73aaf20f8c23afe19a.webp)

### select æ“ä½œ

ç›¸æ¯”äºæ’å…¥æ•°æ®æ“ä½œï¼ŒæŸ¥è¯¢æ•°æ®çš„æ–¹æ³•å°±è¦æ›´å¤šï¼Œè€Œä¸”è¿˜èƒ½å®ç°æ‰¹é‡æŸ¥è¯¢å’Œæ¡ä»¶æŸ¥è¯¢ã€‚

1.   **æ ¹æ®ä¸»é”®æŸ¥è¯¢**

å°†æ‰€è¦æŸ¥è¯¢æ•°æ®çš„ä¸»é”®ä½œä¸ºå‚æ•°ä¼ å…¥æˆ‘ä»¬çš„ `selectById` æ–¹æ³•ä¸­ï¼Œå³å¯å®ç°ã€‚

-   **æ–¹æ³•å£°æ˜**

```java
/**
     * æ ¹æ® ID æŸ¥è¯¢
     *
     * @param id ä¸»é”®ID
     */
T selectById(Serializable id);
```

-   **æŸ¥è¯¢å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;


@SpringBootTest
class EmployeeApplicationTests {

    @Test
    void contextLoads() {
    }

    @Autowired
    private EmployeeMapper employeeMapper;

    @Test
    void testSelectById() {
        Employee employee = employeeMapper.selectById(3);
        System.out.println(employee);
    }
}

```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/86a6bc3c0f430dab4efdcb583ddde74a.webp)

2.   **æ ¹æ®ä¸»é”®æ‰¹é‡æŸ¥è¯¢**

ä¸Šä¸€ä¸ªæ–¹æ³•æ¯æ¬¡åªèƒ½æŸ¥è¯¢ä¸€æ¡è®°å½•ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦æŸ¥è¯¢å¤šæ¡æ•°æ®è®°å½•ï¼Œé‚£ä¹ˆå°±å¯ä»¥å°†è¦æŸ¥è¯¢æ•°æ®çš„ä¸»é”®åˆ—è¡¨ä¼ å…¥ `selectBatchIds` æ–¹æ³•å³å¯ã€‚

-   **æ–¹æ³•å£°æ˜**

```java
/**
     * æŸ¥è¯¢ï¼ˆæ ¹æ®ID æ‰¹é‡æŸ¥è¯¢ï¼‰
     *
     * @param idList ä¸»é”®IDåˆ—è¡¨(ä¸èƒ½ä¸º null ä»¥åŠ empty)
     */
List<T> selectBatchIds(@Param(Constants.COLLECTION) Collection<? extends Serializable> idList);
```

-   **æ‰¹é‡æŸ¥è¯¢å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;


@SpringBootTest
class EmployeeApplicationTests {

    @Test
    void contextLoads() {
    }

    @Autowired
    private EmployeeMapper employeeMapper;

    @Test
    void testSelectBatchIds() {
        List<Integer> ids = new ArrayList<>();
        ids.add(1);
        ids.add(4);
        List<Employee> employeeList = employeeMapper.selectBatchIds(ids);
        System.out.println(employeeList);
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/0c43ff686889a7ad13040a12bd011f6a.webp)

3.   **æ ¹æ®å¤šæ¡ä»¶æŸ¥è¯¢**

é™¤å¼€æ”¯æŒä¸»é”®æŸ¥è¯¢å¤–ï¼ŒMP è¿˜æ”¯æŒæ¡ä»¶æŸ¥è¯¢ï¼Œåªè¦å°†æˆ‘ä»¬çš„æ¡ä»¶ä¼ å…¥ `Map`  åˆ—è¡¨ä¸­ï¼Œç„¶åå°†å…¶ä½œä¸º `selectByMap` æ–¹æ³•çš„å‚æ•°å³å¯ï¼Œå…¶ä¸­ä¼ å…¥ `Map` çš„ `key` å¯¹åº”æˆ‘ä»¬æ•°æ®åº“ä¸­çš„å­—æ®µï¼Œè€Œ `value` åˆ™å¯¹åº”å­—æ®µçš„å€¼ã€‚

-   **æ–¹æ³•å£°æ˜**

```java
/**
     * æŸ¥è¯¢ï¼ˆæ ¹æ® columnMap æ¡ä»¶ï¼‰
     *
     * @param columnMap è¡¨å­—æ®µ map å¯¹è±¡
     */
List<T> selectByMap(@Param(Constants.COLUMN_MAP) Map<String, Object> columnMap);
```

-   **æ¡ä»¶æŸ¥è¯¢å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;


@SpringBootTest
class EmployeeApplicationTests {

    @Test
    void contextLoads() {
    }

    @Autowired
    private EmployeeMapper employeeMapper;

    @Test
    void testSelectByMap() {
        Map<String, Object> map = new HashMap<>();
        map.put("sex", "ç”·");
        map.put("name", "å¼ ä¸‰");
        System.out.println(employeeMapper.selectByMap(map));
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/efa9b05a272b232f6ea259c8d3054e42.webp)

### update æ“ä½œ

æ›´æ–°æ“ä½œï¼Œä¸»è¦æ˜¯æ ¹æ®æˆ‘ä»¬æ•°æ®åº“çš„ä¸»é”®è¿›è¡ŒæŸ¥è¯¢ï¼Œå°†å¯¹åº”ä¸»é”®çš„å®ä½“å¯¹è±¡ä¼ å…¥ `updateById` æ–¹æ³•å³å¯ã€‚

-   **æ–¹æ³•å£°æ˜**

```java
/**
     * æ ¹æ® ID ä¿®æ”¹
     *
     * @param entity å®ä½“å¯¹è±¡
     */
int updateById(@Param(Constants.ENTITY) T entity);
```

-   **æ›´æ–°å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeMapper employeeMapper;

    @Test
    void testUpdate() {
        Employee employee = new Employee();

        employee.setEmail("zhao6@cunyu1943.com");
        employee.setName("èµµ 6");
        employee.setSex("å¥³");
        employee.setId(4L);

        Assert.assertEquals(1, employeeMapper.updateById(employee));
        System.out.println("æ›´æ–°æˆåŠŸ");
    }

}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/21bdde18446f1bc7ec886ec01e0aa8bc.webp)

-   **æ•°æ®æ›´æ–°åçš„æ•°æ®åº“**

![](assets/20210808-log-crud/0bf78710d200c2f7535ade0f232646ea.webp)

### delete æ“ä½œ

åˆ é™¤æ“ä½œï¼Œæ—¢å¯ä»¥æ ¹æ®ä¸»é”®åˆ é™¤ä¸€æ¡è®°å½•ï¼Œä¹Ÿèƒ½æ ¹æ®ä¸»é”®åˆ—è¡¨å®ç°æ‰¹é‡åˆ é™¤ï¼Œè¿˜èƒ½æ ¹æ®æ¡ä»¶æ¥è¿›è¡Œåˆ é™¤ã€‚

1.   **æ ¹æ®ä¸»é”®åˆ é™¤ä¸€æ¡æ•°æ®**

å°†æ‰€è¦åˆ é™¤è®°å½•çš„ä¸»é”®ä½œä¸ºå‚æ•°ä¼ å…¥ `deleteById` æ–¹æ³•å³å¯ã€‚

-   **æ–¹æ³•å£°æ˜**

```java
/**
     * æ ¹æ® ID åˆ é™¤
     *
     * @param id ä¸»é”®ID
     */
int deleteById(Serializable id);
```

-   **åˆ é™¤å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeMapper employeeMapper;

    @Test
    void testDeleteById() {
        Assert.assertEquals(1, employeeMapper.deleteById(2L));
        System.out.println("åˆ é™¤æˆåŠŸ");
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/13fa53d7ce388606a0dba6caa7884791.webp)

-   **åˆ é™¤æ•°æ®åçš„æ•°æ®åº“**

![](assets/20210808-log-crud/754b2aa42b70340c6d1ef359bf4957a1.webp)

2.   **æ ¹æ®æ¡ä»¶åˆ é™¤**

æ ¹æ®æ¡ä»¶åˆ é™¤åŒæ ·æ˜¯è®²æ¡ä»¶ä¼ å…¥ `Map` ä¸­ï¼Œç„¶åå°† `Map` ä½œä¸ºå‚æ•°ä¼ å…¥ `deleteByMap` æ–¹æ³•ï¼Œå…¶ä¸­ `key` å¯¹åº”æ•°æ®åº“ä¸­çš„å­—æ®µï¼Œ`value` å¯¹åº”å­—æ®µçš„å€¼ã€‚

-   **æ–¹æ³•å£°æ˜**

```java
/**
     * æ ¹æ® columnMap æ¡ä»¶ï¼Œåˆ é™¤è®°å½•
     *
     * @param columnMap è¡¨å­—æ®µ map å¯¹è±¡
     */
int deleteByMap(@Param(Constants.COLUMN_MAP) Map<String, Object> columnMap);
```

-   **åˆ é™¤å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeMapper employeeMapper;

    @Test
    void testDeleteByMap() {
        Map<String, Object> map = new HashMap<>();
        map.put("name", "èµµ 6");
        Assert.assertEquals(1, employeeMapper.deleteByMap(map));
        System.out.println("åˆ é™¤æˆåŠŸ");
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/8ae3056bfe18e6a4f745a6c9ff509a30.webp)

-   **åˆ é™¤æ•°æ®åçš„æ•°æ®åº“**

![](assets/20210808-log-crud/0e4ce5565c45b3af2113ba6fa265ae85.webp)

3.   **æ ¹æ®ä¸»é”®æ‰¹é‡åˆ é™¤**

å°†è¦åˆ é™¤è®°å½•çš„ä¸»é”®ä¼ å…¥é›†åˆä¸­ï¼Œç„¶åå°†é›†åˆä½œä¸º `deleteBatchIds` æ–¹æ³•çš„å‚æ•°å³å¯ã€‚

-   **æ–¹æ³•å£°æ˜**

```java
/**
     * åˆ é™¤ï¼ˆæ ¹æ®ID æ‰¹é‡åˆ é™¤ï¼‰
     *
     * @param idList ä¸»é”®IDåˆ—è¡¨(ä¸èƒ½ä¸º null ä»¥åŠ empty)
     */
int deleteBatchIds(@Param(Constants.COLLECTION) Collection<? extends Serializable> idList);
```

-   **æ‰¹é‡åˆ é™¤å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeMapper employeeMapper;

    @Test
    void testDeleteBatchIds() {
        List<Integer> ids = new ArrayList<>();
        ids.add(1);
        ids.add(3);
        Assert.assertEquals(2, employeeMapper.deleteBatchIds(ids));
        System.out.println("åˆ é™¤æˆåŠŸ");
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/7781d31edd822234ef741751cc84403d.webp)

-   **åˆ é™¤æ•°æ®åçš„æ•°æ®åº“**

![](assets/20210808-log-crud/8ca0e6de77b33e31d83ac08480f40b5e.webp)

## Service CRUD æ¥å£

`Service` å±‚ç»§æ‰¿è‡ª `IService` æ¥å£ï¼Œå…¶ä¸­çš„æ–¹æ³•å’Œ `Mapper` å±‚ä¸­æ‰€æä¾›çš„æ–¹æ³•åŠŸèƒ½æ˜¯ä¸€è‡´çš„ï¼Œé™¤äº†æ–¹æ³•åæœ‰æ‰€ä¸åŒå¤–ï¼Œå…¶ä»–åŸºæœ¬ç±»ä¼¼ï¼Œä½† `Service` å±‚ä¸­æä¾›äº†æ›´ä¸ºä¸°å¯Œçš„æ–¹æ³•ï¼Œä¸¤è€…çš„ç»§æ‰¿ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚


```java
package com.cunyu.employee.service;

import com.baomidou.mybatisplus.extension.service.IService;
import com.cunyu.employee.entity.Employee;

/**
 * Created with IntelliJ IDEA.
 *
 * @author : cunyu
 * @version : 1.0
 * @project : Employee
 * @package : com.cunyu.employee.service
 * @className : EmployeeService
 * @createTime : 2021/8/8 7:52
 * @description : å‘˜å·¥æœåŠ¡æ¥å£
 */
@Service
public interface EmployeeService extends IService<Employee> {
}
```

```java
package com.cunyu.employee.service.Impl;

import com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;
import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import com.cunyu.employee.service.EmployeeService;

/**
 * Created with IntelliJ IDEA.
 *
 * @author : cunyu
 * @version : 1.0
 * @project : Employee
 * @package : com.cunyu.employee.service.Impl
 * @className : EmployeeServiceImpl
 * @createTime : 2021/8/8 7:53
 * @description : å‘˜å·¥æœåŠ¡ç±»å®ç°
 */

@Service
public class EmployeeServiceImpl extends ServiceImpl<EmployeeMapper, Employee> implements EmployeeService {
}
```

### Save

1.   **æ’å…¥ä¸€æ¡è®°å½•**

åŠŸèƒ½åŒ `Mapper` å±‚ä¸­çš„ `insert` æ–¹æ³•ï¼Œåªä¸è¿‡æ–¹æ³•åä¸åŒã€‚

-   **æ–¹æ³•å£°æ˜**

```java
// æ’å…¥ä¸€æ¡è®°å½•ï¼ˆé€‰æ‹©å­—æ®µï¼Œç­–ç•¥æ’å…¥ï¼‰
boolean save(T entity);
```

-   **æ’å…¥å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import com.cunyu.employee.service.EmployeeService;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeService employeeService;

    @Test
    void testSave() {
        Employee employee = new Employee();
        employee.setId(5L);
        employee.setName("å‘¨ä¸ƒ");
        employee.setEmail("zhouqi@cunyu1943.com");
        employee.setSex("å¥³");
        Assert.assertTrue(employeeService.save(employee));
        System.out.println("æ’å…¥æˆåŠŸ");
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/5996487ba47a09711b90c00741733206.webp)

-   **æ’å…¥æ•°æ®åçš„æ•°æ®åº“**

![](assets/20210808-log-crud/d074edd870e74a751570e165a2b442e3.webp)

2.   **æ‰¹é‡æ’å…¥**

è¿™é‡Œå°±å’Œ `Mapper` å±‚ä¸­æ‰€æœ‰åŒºåˆ«ï¼Œ`Mapper` å±‚ä¸­åªæ”¯æŒå•æ¬¡æ’å…¥ï¼Œè€Œ `Service` å±‚ä¸­æ”¯æŒæ‰¹é‡æ’å…¥ï¼Œè€Œä¼ å…¥çš„å‚æ•°å°±æ˜¯æˆ‘ä»¬æ‰€è¦ä¼ å…¥å®ä½“çš„é›†åˆï¼Œè€Œä¸”è¿˜å¯ä»¥åˆ†æ‰¹æ¬¡æ’å…¥å’Œç»Ÿä¸€æ’å…¥ã€‚

2.1 **ç»Ÿä¸€æ’å…¥**

-   **æ–¹æ³•å£°æ˜**

```java
// æ’å…¥ï¼ˆæ‰¹é‡ï¼‰
boolean saveBatch(Collection<T> entityList);
```

-   **æ’å…¥å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import com.cunyu.employee.service.EmployeeService;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import java.util.ArrayList;
import java.util.List;

@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeService employeeService;

    @Test
    void testSaveBatch() {
        Employee employee1 = new Employee();
        employee1.setId(6L);
        employee1.setEmail("zhangliang@cunyu1943.com");
        employee1.setSex("ç”·");
        employee1.setName("å¼ è‰¯");

        Employee employee2 = new Employee();
        employee2.setId(7L);
        employee2.setEmail("zhouyu@cunyu1943.com");
        employee2.setName("å‘¨ç‘œ");
        employee2.setSex("ç”·");

        List<Employee> employeeList = new ArrayList<>();
        employeeList.add(employee1);
        employeeList.add(employee2);

        Assert.assertTrue(employeeService.saveBatch(employeeList));
        System.out.println("æ‰¹é‡æ’å…¥æˆåŠŸ");
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/cc5f359bcbb2d4287e51e693c64320b5.webp)

-   **ç»Ÿä¸€æ’å…¥åçš„æ•°æ®åº“**

![](assets/20210808-log-crud/99b83c2bb2e50f9b687d2ccafe694a6c.webp)

2.2 **åˆ†æ‰¹æ¬¡æ’å…¥**

-   **æ–¹æ³•å£°æ˜**

```java
// æ’å…¥ï¼ˆæ‰¹é‡ï¼‰
boolean saveBatch(Collection<T> entityList, int batchSize);
```

-   **åˆ†æ‰¹æ¬¡æ’å…¥å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import com.cunyu.employee.service.EmployeeService;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import java.util.ArrayList;
import java.util.List;

@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeService employeeService;

    @Test
    void testSaveBatch() {
        Employee employee1 = new Employee();
        employee1.setId(8L);
        employee1.setEmail("jialuo@cunyu1943.com");
        employee1.setSex("å¥³");
        employee1.setName("è¿¦ç½—");

        Employee employee2 = new Employee();
        employee2.setId(9L);
        employee2.setEmail("zhugeliang@cunyu1943.com");
        employee2.setName("è¯¸è‘›äº®");
        employee2.setSex("ç”·");

        List<Employee> employeeList = new ArrayList<>();
        employeeList.add(employee1);
        employeeList.add(employee2);

        Assert.assertTrue(employeeService.saveBatch(employeeList,2));
        System.out.println("æ‰¹é‡æ’å…¥æˆåŠŸ");
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/176bd864bf1fdeaa40b52a971a0c6bf0.webp)

-   **åˆ†æ‰¹æ¬¡æ’å…¥åçš„æ•°æ®åº“**

![](assets/20210808-log-crud/3cf55bdf99d6ca96218127840beb604a.webp)

### SaveOrUpdate

1.   **å•æ¡ä¿®æ”¹æ’å…¥**

-   **æ–¹æ³•å£°æ˜**

```java
// TableId æ³¨è§£å­˜åœ¨æ›´æ–°è®°å½•ï¼Œå¦æ’å…¥ä¸€æ¡è®°å½•
boolean saveOrUpdate(T entity);
```

-   **å•æ¡ä¿®æ”¹æ’å…¥å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import com.cunyu.employee.service.EmployeeService;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import java.util.ArrayList;
import java.util.List;

@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeService employeeService;

    @Test
    void testSaveOrUpdate() {
        Employee employee = new Employee();
        employee.setId(5L);
        employee.setName("å‘¨æ­¦");
        employee.setEmail("zhouwu@cunyu1943.com");
        employee.setSex("ç”·");

        Assert.assertTrue(employeeService.saveOrUpdate(employee));
        System.out.println("æ›´æ–°æˆåŠŸ");
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/1bd07adc6afb9fa346f56563b97f3d20.webp)

-   **ä¿®æ”¹æ’å…¥åçš„æ•°æ®åº“**

![](assets/20210808-log-crud/28761dbe6cb714bec1758a759fe5ec8b.webp)

2.   **æ‰¹é‡ä¿®æ”¹æ’å…¥**

2.1 **ç»Ÿä¸€æ’å…¥**

-   **æ–¹æ³•å£°æ˜**

```java
// æ‰¹é‡ä¿®æ”¹æ’å…¥
boolean saveOrUpdateBatch(Collection<T> entityList);
```

-   **ç»Ÿä¸€æ’å…¥å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import com.cunyu.employee.service.EmployeeService;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import java.util.ArrayList;
import java.util.List;

@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeService employeeService;

    @Test
    void testSaveOrUpdateBatch() {
        Employee employee1 = new Employee();
        employee1.setId(10L);
        employee1.setEmail("zhongwuyan@cunyu1943.com");
        employee1.setSex("å¥³");
        employee1.setName("é’Ÿæ— è‰³");

        Employee employee2 = new Employee();
        employee2.setId(11L);
        employee2.setEmail("direnjie@cunyu1943.com");
        employee2.setName("ç‹„ä»æ°");
        employee2.setSex("ç”·");

        List<Employee> employeeList = new ArrayList<>();
        employeeList.add(employee1);
        employeeList.add(employee2);

        Assert.assertTrue(employeeService.saveOrUpdateBatch(employeeList));
        System.out.println("æ‰¹é‡ä¿®æ”¹æ’å…¥æˆåŠŸ");
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/882f141e5b1b562300fd340e99dd1e74.webp)

-   **ç»Ÿä¸€æ’å…¥æ•°æ®åçš„æ•°æ®åº“**

![](assets/20210808-log-crud/ea95b0aef97d6fc8911c4de46dbdc9d6.webp)

2.2 **åˆ†æ‰¹æ¬¡æ’å…¥**

-   **æ–¹æ³•å£°æ˜**

```java
// æ‰¹é‡ä¿®æ”¹æ’å…¥
boolean saveOrUpdateBatch(Collection<T> entityList, int batchSize);
```

-   **æ–¹æ³•å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import com.cunyu.employee.service.EmployeeService;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import java.util.ArrayList;
import java.util.List;

@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeService employeeService;

    @Test
    void testSaveOrUpdateBatch() {
        Employee employee1 = new Employee();
        employee1.setId(12L);
        employee1.setEmail("yuji@cunyu1943.com");
        employee1.setSex("å¥³");
        employee1.setName("è™å§¬");

        Employee employee2 = new Employee();
        employee2.setId(13L);
        employee2.setEmail("sulie@cunyu1943.com");
        employee2.setName("è‹çƒˆ");
        employee2.setSex("ç”·");

        List<Employee> employeeList = new ArrayList<>();
        employeeList.add(employee1);
        employeeList.add(employee2);

        Assert.assertTrue(employeeService.saveOrUpdateBatch(employeeList, 2));
        System.out.println("æ‰¹é‡ä¿®æ”¹æ’å…¥æˆåŠŸ");
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/bb54a447984342587c7f179565fa04bd.webp)

-   **åˆ†æ‰¹æ¬¡æ’å…¥æ•°æ®åçš„æ•°æ®åº“**

![](assets/20210808-log-crud/d165237c3ffaff0011de68da405520dc.webp)

### Remove

1.   **æ ¹æ® ID åˆ é™¤**

-   **æ–¹æ³•å®ä¾‹**

```java
// æ ¹æ® ID åˆ é™¤
boolean removeById(Serializable id);
```

-   **åˆ é™¤å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import com.cunyu.employee.service.EmployeeService;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;


@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeService employeeService;

    @Test
    void testRemoveById() {
        Assert.assertTrue(employeeService.removeById(5));
        System.out.println("åˆ é™¤æˆåŠŸ");
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/4f28d3ad476649f51c2d21ca67575b4c.webp)

![](assets/20210808-log-crud/43147f95524c777df4ca9b6c9534f2bf.webp)

2.   **æ ¹æ®æ¡ä»¶åˆ é™¤**

-   **æ–¹æ³•å£°æ˜**

```java
// æ ¹æ® columnMap æ¡ä»¶ï¼Œåˆ é™¤è®°å½•
boolean removeByMap(Map<String, Object> columnMap);
```

-   **æŒ‰æ¡ä»¶åˆ é™¤å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import com.cunyu.employee.service.EmployeeService;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import java.util.HashMap;
import java.util.Map;

@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeService employeeService;

    @Test
    void testRemoveByMap() {
        Map<String, Object> map = new HashMap<>();
        map.put("sex", "å¥³");
        Assert.assertTrue(employeeService.removeByMap(map));
        System.out.println("åˆ é™¤æˆåŠŸ");
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/3b281656c97119c48bcc67ae039dd43f.webp)

-   **æŒ‰æ¡ä»¶åˆ é™¤åçš„æ•°æ®åº“**

![](assets/20210808-log-crud/e00c5eec6db5fb177385f916593a5ddf.webp)

3.   **æ ¹æ® ID æ‰¹é‡åˆ é™¤**

-   **æ–¹æ³•å£°æ˜**

```java
// åˆ é™¤ï¼ˆæ ¹æ®ID æ‰¹é‡åˆ é™¤ï¼‰
boolean removeByIds(Collection<? extends Serializable> idList);
```

-   **æ‰¹é‡åˆ é™¤å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import com.cunyu.employee.service.EmployeeService;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import java.util.ArrayList;
import java.util.List;

@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeService employeeService;

    @Test
    void testRemoveByIds() {
        List<Integer> ids = new ArrayList<>();
        ids.add(1);
        ids.add(4);
        Assert.assertTrue(employeeService.removeByIds(ids));
        System.out.println("æ‰¹é‡åˆ é™¤æˆåŠŸ");
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/36a48ba2fee8f6a5800b14a36020a96a.webp)

-   **æ‰¹é‡åˆ é™¤åçš„æ•°æ®åº“**

![](assets/20210808-log-crud/c3a783950d27aa75ae82a123cad3955b.webp)

### Update

1.   **æ ¹æ® ID é€‰æ‹©ä¿®æ”¹**

-   **æ–¹æ³•å£°æ˜**

```java
// æ ¹æ® ID é€‰æ‹©ä¿®æ”¹
boolean updateById(T entity);
```

-   **æ ¹æ® ID ä¿®æ”¹å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import com.cunyu.employee.service.EmployeeService;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;


@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeService employeeService;

    @Test
    void testUpdateById() {
        Employee employee = new Employee();
        employee.setId(3L);
        employee.setName("ç¨‹å’¬é‡‘");
        employee.setSex("ç”·");
        employee.setEmail("chengyaojin@cunyu1943.com");

        Assert.assertTrue(employeeService.updateById(employee));
        System.out.println("æ›´æ–°æˆåŠŸ");
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/21c7a6ffa9423f11939a36d00b249933.webp)

-   **æ›´æ–°åçš„æ•°æ®åº“**

![](assets/20210808-log-crud/e2c6861eb9678452797bb6373e430b71.webp)

2.   **æ ¹æ® ID æ‰¹é‡æ›´æ–°**

2.1 **ç»Ÿä¸€æ›´æ–°**

-   **æ–¹æ³•å£°æ˜**

```java
// æ ¹æ®ID æ‰¹é‡æ›´æ–°
boolean updateBatchById(Collection<T> entityList);
```

-   **æ‰¹é‡æ›´æ–°å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import com.cunyu.employee.service.EmployeeService;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import java.util.ArrayList;
import java.util.List;

@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeService employeeService;

    @Test
    void testUpdateBatchById() {
        Employee employee1 = new Employee();
        employee1.setId(6L);
        employee1.setName("å¦²å·±");
        employee1.setSex("å¥³");
        employee1.setEmail("daji@cunyu1943.com");

        Employee employee2 = new Employee();
        employee2.setId(13L);
        employee2.setName("å°ä¹”");
        employee2.setSex("å¥³");
        employee2.setEmail("xiaoqiao@cunyu1943.com");

        List<Employee> employeeList = new ArrayList<>();
        employeeList.add(employee1);
        employeeList.add(employee2);

        Assert.assertTrue(employeeService.updateBatchById(employeeList));
        System.out.println("æ›´æ–°æˆåŠŸ");
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/1ceaa41986d6c4df67c64613b13f292f.webp)

-   **æ‰¹é‡æ›´æ–°åçš„æ•°æ®åº“**

![](assets/20210808-log-crud/4c610fff64f2d26ecdde6de141613e7b.webp)

2.2 **åˆ†æ‰¹æ¬¡æ›´æ–°**

-   **æ–¹æ³•å£°æ˜**

```java
// æ ¹æ®ID æ‰¹é‡æ›´æ–°
boolean updateBatchById(Collection<T> entityList, int batchSize);
```

-   **åˆ†æ‰¹æ¬¡æ›´æ–°å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import com.cunyu.employee.service.EmployeeService;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import java.util.ArrayList;
import java.util.List;

@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeService employeeService;

    @Test
    void testUpdateBatchById() {
        Employee employee1 = new Employee();
        employee1.setId(7L);
        employee1.setName("æ­¦åˆ™å¤©");
        employee1.setSex("å¥³");
        employee1.setEmail("wuzetian@cunyu1943.com");

        Employee employee2 = new Employee();
        employee2.setId(3L);
        employee2.setName("æå…ƒèŠ³");
        employee2.setSex("ç”·");
        employee2.setEmail("liyuanfang@cunyu1943.com");

        List<Employee> employeeList = new ArrayList<>();
        employeeList.add(employee1);
        employeeList.add(employee2);

        Assert.assertTrue(employeeService.updateBatchById(employeeList, 2));
        System.out.println("æ›´æ–°æˆåŠŸ");
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/f1adac18df09758c69dae5b98eecb8bc.webp)

-   **åˆ†æ‰¹æ¬¡æ›´æ–°åçš„æ•°æ®åº“**

![](assets/20210808-log-crud/68924264cc41e5c2d46d432dc2e33149.webp)

### Get

1.   **æ ¹æ® ID æŸ¥è¯¢**

å°†æ‰€è¦æŸ¥è¯¢è®°å½•çš„ `id` ä½œä¸ºå‚æ•°ï¼Œç„¶åå°†æŸ¥è¯¢åˆ°çš„å®ä½“è¿”å›ã€‚

-   **æ–¹æ³•å£°æ˜**

```java
// æ ¹æ® ID æŸ¥è¯¢
T getById(Serializable id);
```

-   **æŸ¥è¯¢å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import com.cunyu.employee.service.EmployeeService;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeService employeeService;

    @Test
    void testGetById() {
        Employee employee = employeeService.getById(9);
        System.out.println(employee);
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/3590f21fa1cc05fb37090df84129487e.webp)

### List

1.   **æŸ¥è¯¢æ‰€æœ‰**

æŸ¥è¯¢æ‰€æœ‰è®°å½•ï¼Œç„¶åè¿”å›åˆ°ä¸€ä¸ªé›†åˆä¸­ã€‚

-   **æ–¹æ³•å£°æ˜**

```java
// æŸ¥è¯¢æ‰€æœ‰
List<T> list();
```

-   **æŸ¥è¯¢å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import com.cunyu.employee.service.EmployeeService;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import java.util.ArrayList;
import java.util.List;

@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeService employeeService;

    @Test
    void testList() {
        List<Employee> employeeLists = new ArrayList<>();
        employeeLists = employeeService.list();
        Assert.assertEquals(6, employeeLists.size());
        System.out.println("æŸ¥è¯¢æˆåŠŸ");
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/0d603e74557b79206aaf184530f41007.webp)

2.   **æ ¹æ® ID æ‰¹é‡æŸ¥è¯¢**

è®²æ‰€è¦æŸ¥è¯¢çš„è®°å½• `id` ä¼ å…¥é›†åˆï¼Œç„¶ååº§ä½æ–¹æ³•å‚æ•°ï¼Œæœ€åè¿”å›æŸ¥è¯¢åˆ°çš„ç»“æœåˆ°ä¸€ä¸ªé›†åˆä¸­ã€‚

-   **æ–¹æ³•å£°æ˜**

```java
// æŸ¥è¯¢ï¼ˆæ ¹æ®ID æ‰¹é‡æŸ¥è¯¢ï¼‰
Collection<T> listByIds(Collection<? extends Serializable> idList);
```

-   **æ‰¹é‡æŸ¥è¯¢å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import com.cunyu.employee.service.EmployeeService;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import java.util.ArrayList;
import java.util.List;

@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeService employeeService;

    @Test
    void testListByIds() {
        List<Long> ids = new ArrayList<>();

        ids.add(6L);
        ids.add(7L);

        Assert.assertEquals(2, employeeService.listByIds(ids).size());
        System.out.println("æŸ¥è¯¢æˆåŠŸ");

    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/13e0ccaf7974bde5b83c98bd9c00a5e9.webp)

3.   **æ ¹æ®æ¡ä»¶æŸ¥è¯¢**

æ¡ä»¶ä¼ å…¥ `Map` é›†åˆï¼Œ`key` å¯¹åº”å­—æ®µï¼Œ`value` å¯¹åº”å€¼ï¼Œç„¶åè¿”å›é›†åˆã€‚

-   **æ–¹æ³•å£°æ˜**

```java
// æŸ¥è¯¢ï¼ˆæ ¹æ® columnMap æ¡ä»¶ï¼‰
Collection<T> listByMap(Map<String, Object> columnMap);
```

-   **æ ¹æ®æ¡ä»¶æŸ¥è¯¢å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import com.cunyu.employee.service.EmployeeService;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import java.util.HashMap;
import java.util.Map;

@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeService employeeService;
    @Test
    void testListByMap() {
        Map<String, Object> map = new HashMap<>();

        map.put("sex", "å¥³");

        Assert.assertEquals(3, employeeService.listByMap(map).size());
        System.out.println("æŸ¥è¯¢æˆåŠŸ");
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/83c2fbbe1dd98236217aecee73168797.webp)

4.   **æŸ¥è¯¢æ‰€æœ‰åˆ—è¡¨**

-   **æ–¹æ³•å£°æ˜**

```java
// æŸ¥è¯¢æ‰€æœ‰åˆ—è¡¨
List<Map<String, Object>> listMaps();
```

-   **æŸ¥è¯¢å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import com.cunyu.employee.service.EmployeeService;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;


@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeService employeeService;

    @Test
    void testListMaps() {
        Assert.assertEquals(6, employeeService.listMaps());
        System.out.println("æŸ¥è¯¢æˆåŠŸ");
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/ca254977c9086653ab4b422b8809834c.webp)

5.   **æŸ¥è¯¢æ‰€æœ‰è®°å½•**

ç”¨äºæŸ¥è¯¢æ‰€æœ‰æ•°æ®è®°å½•ï¼Œå¹¶å°†å…¶è¿”å›åˆ°ä¸€ä¸ªé›†åˆä¸­ã€‚

-   **æ–¹æ³•å£°æ˜**

```java
// æŸ¥è¯¢å…¨éƒ¨è®°å½•
List<Object> listObjs();
```

-   **æŸ¥è¯¢å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import com.cunyu.employee.service.EmployeeService;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;


@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeService employeeService;

    @Test
    void testListObjs() {
        Assert.assertEquals(6, employeeService.listObjs().size());
        System.out.println("æŸ¥è¯¢æˆåŠŸ");
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/22fba4882741eaeee5c940d77b0131dc.webp)

### Count

1.   **æŸ¥è¯¢è®°å½•æ€»æ•°**

ç”¨äºç»Ÿè®¡æ•°æ®æ§ä¸­çš„è®°å½•æ€»æ¡æ•°ï¼Œæ–¹æ³•è¿”å›è®°å½•æ¡æ•°ã€‚

-   **æ–¹æ³•å£°æ˜**

```java
// æŸ¥è¯¢æ€»è®°å½•æ•°
int count();
```

-   **æŸ¥è¯¢è®°å½•æ€»æ•°å®ä¾‹**

```java
package com.cunyu.employee;

import com.cunyu.employee.entity.Employee;
import com.cunyu.employee.mapper.EmployeeMapper;
import com.cunyu.employee.service.EmployeeService;
import org.junit.Assert;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;


@SpringBootTest
class EmployeeApplicationTests {

    @Autowired
    private EmployeeService employeeService;

    @Test
    void testCount() {
        Assert.assertEquals(6, employeeService.count());
        System.out.println("æŸ¥è¯¢æˆåŠŸ");
    }
}
```

-   **æµ‹è¯•ç»“æœ**

![](assets/20210808-log-crud/b79542a84e068a734cb25be93500e83c.webp)

## æ€»ç»“

å¥½äº†ï¼Œä»¥ä¸Šå°±æ˜¯å…³äº Mybatis-Plus çš„æ—¥å¿—é…ç½®ä»¥åŠå¦‚ä½•è¿›è¡Œ CRUD çš„ç›¸å…³å†…å®¹äº†ï¼Œè¿™é‡Œ CRUD ä¸»è¦åˆåˆ†ä¸º Mapper å±‚å’Œ Service å±‚ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œé€‰æ‹©ã€‚å½“ç„¶ï¼Œåœ¨æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨ä¸­ï¼Œå¸¸å¸¸éƒ½æ˜¯ä¸¤ä¸ªæ¥å£ä¸€èµ·ä½¿ç”¨ï¼Œå…³äºæ›´å¤š MP çš„ä½¿ç”¨æŠ€å·§ï¼Œæˆ‘ä»¬ä¸‹æœŸæ–‡ç« å†è§ï¼